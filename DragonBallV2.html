
<div class="banner">
    <br><br><br>
    <button type="action" name="act_attributes" >Attributes</button>
    <button type="action" name="act_attacks" >Attacks</button>
    <button type="action" name="act_abilities">Abilities</button>
    <button type="action" name="act_transformations">Transformations</button>
</div>
<input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='attributes'  />
<br>
    <!--The attributes division that creates all of the attributes input for the players-->
<div class='attributes'>
    <div class ="character">
        <div class="info">
            <div class="attr-head">
                <h1>Character</h1>
                <div><label>Character name: <input name="attr_character_name" type="text" style="width:120px;" /></label></div>
                <div><label>Tier of Power:<input name="attr_tier_of_power" type="number" value="floor((@{power_level})/5)+1" style="width: 50px;" disabled="true" /></label></div>
                <input type="hidden" name="attr_power_die" value="[[1d0]]"/>
                <script type="text/worker">
                    on("change:power_level", function(){
                        getAttrs(["POWER_LEVEL"], function(values){
                            var dicelist = [0,4,6,8];
                            var tier = Math.floor(values.POWER_LEVEL/5)+1;
                            var die = Math.floor((tier-1)/4) + "d10 + " + "1d"+dicelist[(tier-1)%4];
                            var ki_pool = 26 + ((values.POWER_LEVEL-1)*12);
                            setAttrs({
                                "power_die":die,
                                "tier_of_power":tier
                            });
                        });
                    });
                </script>
            </div>

            <div class="attr-top">
                <div><label>
                    Race:
                    <select name="attr_race" style="width:100px;">
                        <option value="android">Android</option>
                        <option value="arcosian">Arcosian</option>
                        <option value="human">Earthling</option>
                        <option value="namekians">Namekian</option>
                        <option value="majin">Majin</option>
                        <option value="saiyan">Saiyan</option>
                        <option value="shinjin">Shinjin</option>
                    </select>
                    </label>
                </div>
                <div><label>Subrace:<input type="text" name="attr_subrace" style="width:100px;" value=""/></label></div>
                <script type="text/worker">

                    on("change:race", function(){                
                        getAttrs(["RACE"], function(values){
                            var race = values.RACE;
                            console.log("Why doesn't this work?");
                            
                            switch (race){
                                case "android":
                                    setAttrs({
                                        "subrace":"Artificial Construct, Cybernetic Organism, Bio-Engineered"
                                    });
                                    break;
                                case "arcosian":
                                    setAttrs({
                                        "subrace":"Arcosian"
                                    });
                                    break;
                                case "human":
                                    setAttrs({
                                        "subrace":"Earthling, Beast-men"
                                    });
                                    break;
                                case "namekians":
                                    setAttrs({
                                        "subrace":"Warrior, Priest"
                                    });
                                    break;
                                case "majin":
                                    setAttrs({
                                        "subrace":"Majin"
                                    });
                                    break;
                                case "saiyan":
                                    setAttrs({
                                        "subrace":"Full Blood, Half-Blood"
                                    });
                                    break;
                                case "shinjin":
                                    setAttrs({
                                        "subrace":"Kaio, Makaio"
                                    });
                                    break;
                            };
                        });
                    });

                    on("change:subrace", function(){
                        getAttrs(["SUBRACE", "RACE"], function(values){
                            var subrace = values.SUBRACE;
                            var race = values.RACE;
                            
                            if(race == "android"){
                                if(subrace == "Bio-Engineered"){
                                    setAttrs({
                                        "hp_modifier":5
                                    });
                                }else{
                                    setAttrs({
                                        "hp_modifier":4
                                    });
                                }
                                setAttrs({
                                    "agility_racial":0,
                                    "force_racial":3,
                                    "tenacity_racial":3,
                                    "scholarship_racial":0,
                                    "insight_racial":2,
                                    "spirit_racial":0,
                                    "personality_racial":0,
                                });
                            }else if(subrace == "Arcosian"){
                                setAttrs({
                                    "hp_modifier":3,
                                    "agility_racial":3,
                                    "force_racial":2,
                                    "tenacity_racial":3,
                                    "scholarship_racial":0,
                                    "insight_racial":0,
                                    "spirit_racial":0,
                                    "personality_racial":0,
                                });
                            }else if(race == "human"){
                                setAttrs({
                                    "hp_modifier":4,
                                    "agility_racial":0,
                                    "force_racial":0,
                                    "tenacity_racial":0,
                                    "scholarship_racial":0,
                                    "insight_racial":0,
                                    "spirit_racial":0,
                                    "personality_racial":0,
                                });
                            }else if(race == "namekians"){
                                setAttrs({
                                    "hp_modifier":4,
                                    "agility_racial":0,
                                    "force_racial":0,
                                    "tenacity_racial":3,
                                    "scholarship_racial":0,
                                    "insight_racial":3,
                                    "spirit_racial":0,
                                    "personality_racial":0,
                                });
                            }else if(subrace == "Majin"){
                                setAttrs({
                                    "hp_modifier":3,
                                    "agility_racial":0,
                                    "force_racial":0,
                                    "tenacity_racial":2,
                                    "scholarship_racial":0,
                                    "insight_racial":0,
                                    "spirit_racial":0,
                                    "personality_racial":3,
                                });
                            }else if(race == "saiyan"){
                                setAttrs({
                                    "hp_modifier":4,
                                    "agility_racial":2,
                                    "force_racial":3,
                                    "tenacity_racial":3,
                                    "scholarship_racial":0,
                                    "insight_racial":0,
                                    "spirit_racial":0,
                                    "personality_racial":0,
                                });
                            }else if(race == "shinjin"){
                                if(subrace == "Kaio"){
                                    setAttrs({
                                        "hp_modifier":5
                                    });
                                }else{
                                    setAttrs({
                                        "hp_modifier":4
                                    });
                                }
                                setAttrs({
                                    "agility_racial":0,
                                    "force_racial":0,
                                    "tenacity_racial":0,
                                    "scholarship_racial":0,
                                    "insight_racial":3,
                                    "spirit_racial":0,
                                    "personality_racial":0,
                                });
                            }
                        });
                    });
                </script>
                <input type="hidden" name="attr_hp_modifier" value="0"/>
                <div><label>HP: <input type="number" name="attr_hp" value="0" /> / <input type="number" name="attr_hp_max" value="20"/><button class="skill" name="roll_health" type="roll" value="/r 1d10+@{hp_modifier}+@{tenacity_modifier}"></button></label></div>
                
                <div><label>Power Level: <input type="number" name="attr_power_level" value="1" /></label></div>
                <div><label>Initiative:  <input type="number" name="attr_init_mod" value="0" style="width:50px;"/><button class="skill" type="roll" value="/r 1d10!10+floor(@{agility}/2)+@{init_mod} &{tracker}"></button> </label></div>
            </div>
            
            <div class="attr-bot">
                <div><label>Ki Pool:  <input type="number" name="attr_ki" value="0" /> / <input type="number" name="attr_ki_max" value="(26+((@{power_level}-1)*12))" disabled="true" /> </label></div>
                <div><label>Capacity Rate: <input type="checkbox" name="attr_power_up" value="1"/>  <input type="number" name="attr_capacity" value="0"/> / <input type="number" name="attr_influx_max" value="(14+((@{power_level}-1)*6))" disabled="true" /></label></div>
                <div><label>Zeni: <input type="number" name="attr_zeni" value="0"/></label></div>
                <div><label>XP: <input type="number" name="attr_xp" value = "0"/> </label></div>
                <div><label>TXP: <input type="number" name="attr_txp" value="0"/></label></div>
            </div>
        </div>

        <br>

        <div class="stats">
            <div class="all-stats">
                <div class="abilityTable">
                    <div class="abilityName"><p>NAME</p></div>
                    <div class="abilityMod"><p>MOD</p></div>
                    <div class="abilityTrans"><p>TF MOD</p></div>
                    <div class="abilityRanks"><p>RANKS</p></div>
                    <div class="abilityRacial"><p>RACIAL</p></div>
                    <div class="abilityTotal"><p>TOTAL</p></div>

                    
                    <div class="abilityName"><button class="skill" type="roll" name="roll_agility" value="/r 1d10!10+@{agility_modifier}+@{power_die}"><h3 class="j-h3">Agility</h3></button></div>
                    <div class="abilityMod"><input type="number" name="attr_agility_modifier" value="1" readonly /></div>
                    <div class="abilityTrans"><input type="number" name="attr_agility_tfmodifier" value="1" readonly /></div>
                    <div class="abilityRanks"><input type="number" name="attr_agility_ranks" value="2" /></div>
                    <div class="abilityRacial"><input type="number" name="attr_agility_racial" value="0" /></div>
                    <div class="abilityTotal"><input type="number" name="attr_agility" value="2" readonly /></div>
                    <input type="hidden" value="0" name="attr_agility_tf">
                    
                    <div class="abilityName"><button class="skill" type="roll" name="roll_force" value="/r 1d10!10+@{force_modifier}+@{power_die}"><h3 class="j-h3">Force</h3></button></div>
                    <div ass="abilityMod"><input type="number" name="attr_force_modifier" value="1" readonly /></div>
                    <div class="abilityTrans"><input type="number" name="attr_force_tfmodifier" value="1" readonly /></div>
                    <div class="abilityRaclnks"><input type="number" name="attr_force_ranks" value="2" /></div>
                    <div class="abilityRacial"><input type="number" name="attr_force_racial" value="0" /></div>
                    <div class="abilityTotal"><input type="number" name="attr_force" value="2" readonly /></div>
                    <input type="hidden" value="0" name="attr_force_tf">

                    <div class="abilityName"><button class="skill" type="roll" name="roll_tenacity" value="/r 1d10!10+@{tenacity_modifier}+@{power_die}"><h3 class="j-h3">Tenacity</h3></button></div>
                    <div class="abilityMod"><input type="number" name="attr_tenacity_modifier" value="1" readonly /></div>
                    <div class="abilityTrans"><input type="number" name="attr_tenacity_tfmodifier" value="1" readonly /></div>
                    <div class="abilityRanks"><input type="number" name="attr_tenacity_ranks" value="2" /></div>
                    <div class="abilityRacial"><input type="number" name="attr_tenacity_racial" value="0" /></div>
                    <div class="abilityTotal"><input type="number" name="attr_tenacity" value="2" readonly /></div>
                    <input type="hidden" value="0" name="attr_tenacity_tf">

                    <div class="abilityName"><button class="skill" type="roll" name="roll_scholarship" value="/r 1d10!10+@{scholarship_modifier}+@{power_die}"><h3 class="j-h3">Scholarship</h3></button></div>
                    <div class="abilityMod"><input type="number" name="attr_scholarship_modifier" value="1" readonly /></div>
                    <div class="abilityTrans"><input type="number" name="attr_scholarship_tfmodifier" value="1" readonly /></div>
                    <div class="abilityRanks"><input type="number" name="attr_scholarship_ranks" value="2" /></div>
                    <div class="abilityRacial"><input type="number" name="attr_scholarship_racial" value="0" /></div>
                    <div class="abilityTotal"><input type="number" name="attr_scholarship" value="2" readonly /></div>
                    <input type="hidden" value="0" name="attr_scholarship_tf">

                    <div class="abilityName"><button class="skill" type="roll" name="roll_insight" value="/r 1d10!10+@{insight_modifier}+@{power_die}"><h3 class="j-h3">Insight</h3></button></div>
                    <div class="abilityMod"><input type="number" name="attr_insight_modifier" value="1" readonly /></div>
                    <div class="abilityTrans"><input type="number" name="attr_insight_tfmodifier" value="1" readonly /></div>
                    <div class="abilityRanks"><input type="number" name="attr_insight_ranks" value="2" /></div>
                    <div class="abilityRacial"><input type="number" name="attr_insight_racial" value="0" /></div>
                    <div class="abilityTotal"><input type="number" name="attr_insight" value="2" readonly /></div>
                    <input type="hidden" value="0" name="attr_insight_tf">

                    <div class="abilityName"><button class="skill" type="roll" name="roll_spirit" value="/r 1d10!10+@{spirit_modifier}+@{power_die}"><h3 class="j-h3">Spirit</h3></button></div>
                    <div class="abilityMod"><input type="number" name="attr_spirit_modifier" value="1" readonly /></div>
                    <div class="abilityTrans"><input type="number" name="attr_spirit_tfmodifier" value="1" readonly /></div>
                    <div class="abilityRanks"><input type="number" name="attr_spirit_ranks" value="2" /></div>
                    <div class="abilityRacial"><input type="number" name="attr_spirit_racial" value="0" /></div>
                    <div class="abilityTotal"><input type="number" name="attr_spirit" value="2" readonly /></div>
                    <input type="hidden" value="0" name="attr_spirit_tf">

                    <div class="abilityName"><button class="skill" type="roll" name="roll_personality" value="/r 1d10!10+@{personality_modifier}+@{power_die}"><h3 class="j-h3">Personality</h3></button></div>
                    <div class="abilityMod"><input type="number" name="attr_personality_modifier" value="1" readonly /></div>
                    <div class="abilityTrans"><input type="number" name="attr_personality_tfmodifier" value="1" readonly /></div>
                    <div class="abilityRanks"><input type="number" name="attr_personality_ranks" value="2" /></div>
                    <div class="abilityRacial"><input type="number" name="attr_personality_racial" value="0" /></div>
                    <div class="abilityTotal"><input type="number" name="attr_personality" value="2" readonly /></div>
                    <input type="hidden" value="0" name="attr_personality_tf">

                    <script type="text/worker">
                        function update_agility(){
                            getAttrs(["agility_ranks", "agility_racial", "agility_tf"], function(values){
                                var agility = +values.agility_ranks + +values.agility_racial;
                                setAttrs({
                                    "agility":agility,
                                    "agility_modifier":(Math.floor(agility/2)),
                                    "agility_tfmodifier":(Math.floor(agility/2) + +values.agility_tf)
                                });
                            });
                        }

                        function update_force(){
                            getAttrs(["force_ranks", "force_racial", "force_tf"], function(values){
                                var force = +values.force_ranks + +values.force_racial;
                                setAttrs({
                                    "force":force,
                                    "force_modifier":(Math.floor(force/2)),
                                    "force_tfmodifier":(Math.floor(force/2) + +values.force_tf)
                                });
                            });
                        }
                        
                        function update_tenacity(){
                            getAttrs(["tenacity_ranks", "tenacity_racial", "tenacity_tf"], function(values){
                                var tenacity = +values.tenacity_ranks + +values.tenacity_racial;
                                setAttrs({
                                    "tenacity":tenacity,
                                    "tenacity_modifier":(Math.floor(tenacity/2)),
                                    "tenacity_tfmodifier":(Math.floor(tenacity/2) + +values.tenacity_tf)
                                });
                            });
                        }
                        
                        function update_scholarship(){
                            getAttrs(["scholarship_ranks", "scholarship_racial", "scholarship_tf"], function(values){
                                var scholarship = +values.scholarship_ranks + +values.scholarship_racial;
                                setAttrs({
                                    "scholarship":scholarship,
                                    "scholarship_modifier":(Math.floor(scholarship/2)),
                                    "scholarship_tfmodifier":(Math.floor(scholarship/2) + +values.scholarship_tf)
                                });
                            });
                        }

                        function update_insight(){
                            getAttrs(["insight_ranks", "insight_racial", "insight_tf"], function(values){
                                var insight = +values.insight_ranks + +values.insight_racial;
                                setAttrs({
                                    "insight":insight,
                                    "insight_modifier":(Math.floor(insight/2)),
                                    "insight_tfmodifier":(Math.floor(insight/2) + +values.insight_tf)
                                });
                            });
                        }

                        function update_spirit(){
                            getAttrs(["spirit_ranks", "spirit_racial", "spirit_tf"], function(values){
                                var spirit = +values.spirit_ranks + +values.spirit_racial;
                                setAttrs({
                                    "spirit":spirit,
                                    "spirit_modifier":(Math.floor(spirit/2)),
                                    "spirit_tfmodifier":(Math.floor(spirit/2) + +values.spirit_tf)
                                });
                            });
                        }

                        function update_personality(){
                            getAttrs(["personality_ranks", "personality_racial", "personality_tf"], function(values){
                                var personality = +values.personality_ranks + +values.personality_racial;
                                setAttrs({
                                    "personality":personality,
                                    "personality_modifier":(Math.floor(personality/2)),
                                    "personality_tfmodifier":(Math.floor(personality/2) + +values.personality_tf)
                                });
                            });
                        }

                        

                        on("change:agility_ranks", function(){                
                            update_agility();
                        });
                        on("change:agility_racial", function(){
                            update_agility();
                        });

                        on("change:force_ranks", function(){                
                            update_force();
                        });
                        on("change:force_racial", function(){
                            update_force();
                        });
                        
                        on("change:tenacity_ranks", function(){                
                            update_tenacity();
                        });
                        on("change:tenacity_racial", function(){
                            update_tenacity();
                        });
                        
                        on("change:scholarship_ranks", function(){                
                            update_scholarship();
                        });
                        on("change:scholarship_racial", function(){
                            update_scholarship();
                        });
                        
                        on("change:insight_ranks", function(){                
                            update_insight();
                        });
                        on("change:insight_racial", function(){
                            update_insight();
                        });
                        
                        on("change:spirit_ranks", function(){                
                            update_spirit();
                        });
                        on("change:spirit_racial", function(){
                            update_spirit();
                        });
                        
                        on("change:personality_ranks", function(){                
                            update_personality();
                        });
                        on("change:personality_racial", function(){
                            update_personality();
                        });
                    </script>
                </div>
            <!--
                <div class="stat-agi">
                    <button class="skill" type="roll" name="roll_agility" value="/r 1d10!10+@{agility_modifier}+@{power_die}"><h3 class="j-h3">Agility</h3></button>
                    
                    <div>
                        <label class="j-label">Score: <input type="number" name="attr_agility" value="2"/></label>
                        <input type="hidden" value="floor(@{agility}/2)" name="attr_agility_modifier">
                    </div>
                </div>

                <div class="stat-str">
                    <button class="skill" type="roll" name="roll_force" value="/r 1d10!10+@{force_modifier}+@{power_die}"><h3 class="j-h3">Force</h3></button>
                    <div>
                        <label class="j-label">Score: <input type="number" name="attr_force" value="2"/></label>
                        <input type="hidden" value="floor(@{force}/2)" name="attr_force_modifier">
                    </div>
                </div>

                <div class="stat-ten">
                    <button class="skill" type="roll" name="roll_tenacity" value="/r 1d10!10+@{tenacity_modifier}+@{power_die}"><h3 class="j-h3">Tenacity</h3></button>
                    <div>
                        <label class="j-label">Score: <input type="number" name="attr_tenacity" value="2"/></label>
                        <input type="hidden" value="floor(@{tenacity}/2)" name="attr_tenacity_modifier">
                    </div>
                </div>

                <div class="stat-sch">
                    <button class="skill" type="roll" name="roll_scholarship" value="/r 1d10!10+@{scholarship_modifier}+@{power_die}"><h3 class="j-h3">Scholarship</h3></button>
                    <div>
                        <label class="j-label">Score: <input type="number" name="attr_scholarship" value="2"/></label>
                        <input type="hidden" value="floor(@{scholarship}/2)" name="attr_scholarship_modifier">
                    </div>
                </div>

                <div class="stat-ins">
                    <button class="skill" type="roll" name="roll_insight" value="/r 1d10!10+@{insight_modifier}+@{power_die}"><h3 class="j-h3">Insight</h3></button>
                    <div>
                        <label class="j-label">Score: <input type="number" name="attr_insight" value="2"/></label>
                        <input type="hidden" value="floor(@{insight}/2)" name="attr_insight_modifier"> 
                    </div>
                </div>

                <div class="stat-spi">
                    <button class="skill" type="roll" name="roll_spirit" value="/r 1d10!10+@{spirit_modifier}+@{power_die}"><h3 class="j-h3">Spirit</h3></button>
                    <div>
                        <label class="j-label">Score: <input type="number" name="attr_spirit" value="2"/></label>
                        <input type="hidden" value="floor(@{spirit}/2)" name="attr_spirit_modifier">
                    </div>
                </div>

                <div class="stat-per">
                    <button class="skill" type="roll" name="roll_personality" value="/r 1d10!10+@{personality_modifier}+@{power_die}"><h3 class="j-h3">Personality</h3></button>
                    <div>
                        <label class="j-label">Score: <input type="number" name="attr_personality" value="2"/></label>
                        <input type="hidden" value="floor(@{personality}/2)" name="attr_personality_modifier">
                    </div>
                </div>
            -->
            </div>

            <div class="skill1">
                <div><button class="skill" type="roll" name="roll_agility" value="/r 1d10!10+@{agility_modifier}+@{acrobatics}+floor(@{scholarship_modifier}/2)+@{power_die}">Acrobatics (AG):</button><input type="number" name="attr_acrobatics" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_force" value="/r 1d10!10+@{force_modifier}+@{athletics}+floor(@{scholarship_modifier}/2)+@{power_die}">Athletics (FO):</button><input type="number" name="attr_athletics" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_bluff" value="/r 1d10!10+@{personality_modifier}+@{bluff}+floor(@{scholarship_modifier}/2)+@{power_die}">Bluff (PE):</button><input type="number" name="attr_bluff" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_clairvoyant" value="/r 1d10!10+@{spirit_modifier}+floor(@{scholarship_modifier}/2)+@{clairvoyant}+@{power_die}">Clairvoyant (SP):</button><input type="number" name="attr_clairvoyant" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_concealment" value="/r 1d10!10+@{spirit_modifier}+@{concealment}+floor(@{scholarship_modifier}/2)+@{power_die}">Concealment (SP):</button><input type="number" name="attr_concealment" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_craft" value="/r 1d10!10+@{scholarship_modifier}+@{craft}+floor(@{scholarship_modifier})+@{power_die}">Craft (SC):</button><input type="number" name="attr_craft" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_creature_handling" value="/r 1d10!10+@{insight_modifier}+@{creature_handling}+floor(@{scholarship_modifier}/2)+@{power_die}">Creature Handling (IN):</button><input type="number" name="attr_creature_handling" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_intimidate" value="/r 1d10!10+@{personality_modifier}+@{intimidate}+floor(@{scholarship_modifier}/2)+@{power_die}">Intimidate (PE):</button><input type="number" name="attr_intimidate" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_investigation" value="/r 1d10!10+@{scholarship_modifier}+@{investigation}+floor(@{scholarship_modifier})+@{power_die}">Investigation (SC):</button><input type="number" name="attr_investigation" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_knowledge" value="/r 1d10!10+@{scholarship_modifier}+@{knowledge}+floor(@{scholarship_modifier})+@{power_die}">Knowledge (SC):</button><input type="number" name="attr_knowledge" value="0"/></div>
            </div>

            <div class="skill2">
                <div><button class="skill" type="roll" name="roll_medicine" value="/r 1d10!10+@{scholarship_modifier}+@{medicine}+floor(@{scholarship_modifier})+@{power_die}">Medicine (SC):</button><input type="number" name="attr_medicine" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_perception" value="/r 1d10!10+@{insight_modifier}+@{perception}+floor(@{scholarship_modifier}/2)+@{power_die}">Perception (IN):</button><input type="number" name="attr_perception" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_performance" value="/r 1d10!10+@{personality_modifier}+@{performance}+floor(@{scholarship_modifier}/2)+@{power_die}">Performance (PE):</button><input type="number" name="attr_performance" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_persuasion" value="/r 1d10!10+@{personality_modifier}+@{persuasion}+floor(@{scholarship_modifier}/2)+@{power_die}">Persuasion (PE):</button><input type="number" name="attr_persuasion" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_pilot" value="/r 1d10!10+@{agility_modifier}+@{pilot}+floor(@{scholarship_modifier}/2)+@{power_die}">Pilot (AG):</button><input type="number" name="attr_pilot" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_profession" value="/r 1d10!10+@{scholarship_modifier}+@{profession}+floor(@{scholarship_modifier})+@{power_die}">Profession (SC):</button><input type="number" name="attr_profession" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_science" value="/r 1d10!10+@{scholarship_modifier}+@{science}+floor(@{scholarship_modifier})+@{power_die}">Science (SC):</button><input type="number" name="attr_science" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_stealth" value="/r 1d10!10+@{agility_modifier}+@{stealth)+floor(@{scholarship_modifier}/2)}+@{power_die}">Stealth (AG):</button><input type="number" name="attr_stealth" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_survival" value="/r 1d10!10+@{insight_modifier}+@{survival}+floor(@{scholarship_modifier}/2)+@{power_die}">Survival (IN):</button><input type="number" name="attr_survival" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_thievery" value="/r 1d10!10+@{agility_modifier}+@{thievery}+floor(@{scholarship_modifier}/2)+@{power_die}">Thievery (AG):</button><input type="number" name="attr_thievery" value="0"/></div>
                <div><button class="skill" type="roll" name="roll_use_magic" value="/r 1d10!10+@{spirit_modifier}+@{use_magic}+floor(@{scholarship_modifier}/2)+@{power_die}">Use Magic (SP):</button><input type="number" name="attr_use_magic" value="0"/></div>
            </div>
            
        </div>
    </div>
</div>




<div class='attacks'>
    <h1>Attacks</h1>
    <h2>Technique Points <input type="number" name="attr_technique_points" value="0"/></h2>
    <h2>Soak <input type="number" name="attr_soak" value="0"/>/<input type="number" name="attr_soak_max" value="@{hidden_soak}+@{soak_modifier}"  disabled> Modifier: <input type="number" name="attr_soak_modifier" value="0"/></h2>
    <h2>Dodge <input type="number" name="attr_dodge_modifier" value="0"/><button class="attack-button" type="roll" name="roll_dodge" value="/r 1d10!10+@{dodge_modifier}+@{agility_modifier}"></button></h2>
    <input type="hidden" name="attr_hidden_soak" value="0">
    <div style="display: flex;"><h2>Hit Modifier: <input type="number" name="attr_global_hit" value="0"></h2><h2>Wound Modifier: <input type="number" name="attr_global_wound" value="0"></h2></div>
    <div class="saves"><label style="grid-area: save1;">Cognitive save: <button class="attack-button" type="roll" name="roll_cognitive" value="/r 1d10!10+@{insight_modifier}"></button></label><label style="grid-area: save2;">Corporeal Save: <button class="attack-button" type="roll" name="roll_corporeal" value="/r 1d10!10+@{tenacity_modifier}"></button></label><label style="grid-area: save3;">Impulsive Save: <button class="attack-button" type="roll" name="roll_impulsive" value="/r 1d10!10+@{agility_modifier}"></button></label><label style="grid-area: save4;">Morale Save: <button class="attack-button" type="roll" name="roll_morale" value="/r 1d10!10+@{personality_modifier}"></button></label></div>
    <script type="text/worker">
        on("change:tenacity, sheet:opened", function(){
            getAttrs(["TENACITY_MODIFIER"], function(values){
                var ten = values.TENACITY_MODIFIER;
                if(ten == 1){
                    setAttrs({
                        "hidden_soak":2
                }else{
                    setAttrs({
                        "hidden_soak":ten
                    });
                };
            });
        });
    </script>
    
    <div class="basic-attack">
        <div class="basic-attacks-col1">
            <h2 style="border: 1px solid darkgray">Name:</h2>
            <div class="basic-attacks-row"><input type="text" value="Basic Physical" style="width: 100px;" disabled> <button class="attack-button" type="roll" name="roll_basic_physical" value="/em swings a kick at the enemy for [[@{basic_physical_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]], dealing [[@{basic_physical_wound}d10!10+@{force_modifier}+@{power_die}+@{global_wound}]] and costing @{basic_physical_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Sphere Energy Attack" style="width: 100px;" disabled><button class="attack-button" type="roll" name="roll_basic_sphere" value="/em hurls a sphere of energy for [[@{basic_sphere_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]], dealing [[@{basic_sphere_wound}d10!10+@{force_modifier}+@{power_die}+@{global_wound}]] and costing @{basic_sphere_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Incantation" style="width: 100px;" disabled><button class="attack-button" type="roll" name="roll_basic_incantation" value="/em casts an incantation for [[@{basic_incantation_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]], dealing [[@{basic_incantation_wound}d10!10+@{spirit_modifier}+@{power_die}+@{global_wound}]] and costing @{basic_incantation_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Rapid Fire" style="width: 100px;" disabled><button class="attack-button" type="roll" name="roll_basic_rapid" value="/em fires several energy attacks for [[@{basic_rapid_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]], dealing [[(@{basic_rapid_wound}d10!10)*2+@{power_die}+@{global_wound}]] and costing @{basic_rapid_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Guided" style="width: 100px;" disabled><button class="attack-button" type="roll" name="roll_basic_guided" value="/em a guided blast for [[@{basic_guided_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]] or [[(@{basic_guided_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit})/2]], dealing [[@{basic_guided_wound}d10!10+@{force_modifier}+@{power_die}+@{global_wound}]] and costing @{basic_guided_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Kiai" style="width: 100px;" disabled> <button class="attack-button" type="roll" name="roll_basic_kiai" value="/em fires an kiai blast for [[@{basic_kiai_hit}d10d1!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]], dealing [[@{basic_kiai_wound}d10d1!10+@{force_modifier}+@{power_die}+@{global_wound}]] and costing @{basic_kiai_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Energy Focus" style="width: 100px;" disabled> <button class="attack-button" type="roll" name="roll_basic_focus" value="/em focuses their ki into a weapon and strikes for [[@{basic_focus_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]], dealing [[@{basic_focus_wound}d10!10+@{force_modifier}+@{force_modifier}+@{power_die}+@{global_wound}]] and costing @{basic_focus_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Blast" style="width: 100px;" disabled> <button class="attack-button" type="roll" name="roll_basic_blast" value="/em fires a blast of energy in front of them, 3 feet wide and 3 feet long for [[@{basic_blast_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}@{global_hit}]], dealing [[@{basic_blast_wound}d10!10+@{force_modifier}+@{power_die}+@{global_wound}]] and costing @{basic_blast_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Explosion" style="width: 100px;" disabled> <button class="attack-button" type="roll" name="roll_basic_explosion" value="/em fires off an explosion measuring 3 feet by 3 feet for [[@{basic_explosion_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}@{global_hit}]], dealing [[@{basic_explosion_wound}d10!10+@{force_modifier}+@{power_die}+@{global_wound}]] and costing @{basic_explosion_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Beam" style="width: 100px;" disabled> <button class="attack-button" type="roll" name="roll_basic_beam" value="/em fires a beam of energy, impeding its target, for [[@{basic_beam_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]], dealing [[@{basic_beam_wound}d10!10+@{force_modifier}+@{power_die}+@{global_wound}]] and costing @{basic_beam_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Combination" style="width: 100px;" disabled> <button class="attack-button" type="roll" name="roll_basic_combination" value="/em attcks with a flurry of blows for [[@{basic_combination_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]], dealing [[@{basic_combination_wound}d10!10+@{power_die}+@{global_wound}]] and costing @{basic_combination_ki} ki"></button></div>
            <div class="basic-attacks-row"><input type="text" value="Powered" style="width: 100px;" disabled> <button class="attack-button" type="roll" name="roll_basic_powered" value="/em empowers themselves with ki energy and strikes for [[@{basic_powered_hit}d10!10+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]], dealing [[@{basic_powered_wound}d10!10+@{force_modifier}+@{force_modifier}+@{power_die}+@{global_wound}]] and costing @{basic_powered_ki} ki"></button></div>
        </div>
        <div class="basic-attacks-col2">
            <h2 style="border: 1px solid darkgray;">To Hit Die:</h2>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_physical_hit"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_sphere_hit"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_incantation_hit"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_rapid_hit"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_guided_hit"></div>
            <div class="basic-attacks-row"><input type="number" value="2" name="attr_basic_kiai_hit" disabled></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_focus_hit"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_blast_hit"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_explosion_hit"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_beam_hit"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_combination_hit"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_powered_hit"></div>
        </div>
        <div class="basic-attacks-col3">
            <h2 style="border: 1px solid darkgray;">To Wound Die:</h2>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_physical_wound"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_sphere_wound"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_incantation_wound"></div>
            <div class="basic-attacks-row"><input type="number" value="2" name="attr_basic_rapid_wound" disabled></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_guided_wound"></div>
            <div class="basic-attacks-row"><input type="number" value="2" name="attr_basic_kiai_wound" disabled></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_focus_wound"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_blast_wound"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_explosion_wound"></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_beam_wound"></div>
            <div class="basic-attacks-row"><input type="number" value="2" name="attr_basic_combination_wound" disabled></div>
            <div class="basic-attacks-row"><input type="number" value="1" name="attr_basic_powered_wound"></div>
        </div>
        <div class="basic-attacks-col4">
            <h2 style="border: 1px solid darkgray;">Ki Cost:</h2>
            <div class="basic-attacks-row"><input type="number" value="2" name="attr_basic_physical_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="2" name="attr_basic_sphere_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="2" name="attr_basic_incantation_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="10" name="attr_basic_rapid_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="7" name="attr_basic_guided_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="8" name="attr_basic_kiai_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="9" name="attr_basic_focus_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="6" name="attr_basic_blast_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="9" name="attr_basic_explosion_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="12" name="attr_basic_beam_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="10" name="attr_basic_combination_ki"></div>
            <div class="basic-attacks-row"><input type="number" value="9" name="attr_basic_powered_ki"></div>
        </div>
    </div>
    <br>
    <div class="custom-attacks">
        <div class="custom-attacks-top">
            <div class="custom-attacks-hcol1">
                <h2 style="border: 1px solid darkgray;">Name:</h2>
            </div>
            <div class="custom-attacks-hcol2">
                <h2 style="border: 1px solid darkgray;">Ki Cost:</h2>
            </div>
            <div class="custom-attacks-hcol3">
                <h2 style="border: 1px solid darkgray;">TP Cost:</h2>
            </div>
            <div class="custom-attacks-hcol4">
                <h2 style="border: 1px solid darkgray;">Roll:</h2>
            </div>
            <div class="custom-attacks-hcol5">
                <h2 style="border: 1px solid darkgray;">To Wound:</h2>
            </div>
        </div>

        <div class="custom-attacks-bottom">
            <fieldset class="repeating_custom-attacks-table">
                <div class="custom-attack-table">
                    <div class="ccol1"><input type="text" name="attr_custom_attack_name" style="width: 100px;"></div>
                    <div class="ccol2"><input type="number" name="attr_custom_attack_ki" value="0"></div>
                    <div class="ccol3"><input type="number" name="attr_custom_attack_technique" value="0" ></div>  
                    <div class="ccol4"><input type="text" name="attr_custom_attack_hit" value="0" style="width: 50px;"></div>
                    <div class="ccol5"><input type="text" name="attr_custom_attack_wound" value="0" style="width: 50px;"><button class="attack-button" type="roll" name="roll_custom_attack" value="/em @{custom_attack_name} for [[@{custom_attack_hit}+@{power_die}+floor(@{agility_modifier}/2)+@{insight_modifier}+@{global_hit}]], dealing [[@{custom_attack_wound}+@{power_die}+@{global_wound}+?{What ability are you using?|force,@{force_modifier} | Spirit,@{spirit_modifier} | Balistic, 0}+@{global_wound}]] and costing @{custom_attack_ki} ki"></button></div>
                </div>
            </fieldset>
        </div>
    </div>
</div>

<div class='abilities'>
    <h1>Abilities</h1>
    <h2>Karma: <input type="number" name="attr_karma" max="10" value="5"></h2>
    <div style="border: 3px solid darkgray;">
        <h2>Z Soul: <input type="text" name="attr_z_soul"></h2>
        <h2>Z Soul: <input type="text" name="attr_z_soul2"></h2>
        <h2>Z Soul: <input type="text" name="attr_z_soul3"></h2>
    </div>
    <br>

    <div style="border: 3px solid darkgray; border-collapse: collapse;">
        <h2 style="border: 1px solid darkgray;">Equipment</h2>
        <fieldset class="repeating_equipment" >
            <div class="equipmentTable">
                <div style="grid-area: gear1;"><h3 style="color: darkgray;">Name: <input type="text" name="attr_gear_name" style="width: 150px;"></h3></div>
                <div style="grid-area: gear2;"><h3 style="color: darkgray;">Name: <input type="text" name="attr_gear_name2" style="width: 150px;"></h3></div>
                <div style="grid-area: gear3;"><h3 style="color: darkgray;">Name: <input type="text" name="attr_gear_name3" style="width: 150px;"></h3></div>
            </div>
        </fieldset>
    </div>

    <br>

    <h2>Talents and Abilities</h2>
    <div style="border: 3px solid darkgray;">
        <fieldset class="repeating_talents">
            <div style="display: grid; grid-template-areas: 'talent talent_description'; justify-content: space-between; border: 1px solid seagreen;">
                <br>
                <select style="grid-area: talent;" name="attr_talent" style="width: 20%;">
                    <option value="attribute_addition">Attribute Addition</option>
                    <option value="skill_proficiency">Skill Proficiency</option>
                    <option value="technique_points">Technique Points</option>
                    <option value="talent_addition">Talent Addition</option>
                    <option value="mixture_aptitudes">Mixture Aptitudes</option>
                </select>
                <input type="text" name="attr_talent_description" style="width: 40%; grid-area: talent_description;">
            </div>
        </fieldset>
    </div>
</div>

<div class='transformations'>
    <h1>Transformations</h1>
    <h2>Stress Test<button class="stress-button" name="roll_stress_test" type="roll" value="/em [[1d10!10 + @{power_level}]]"></button></h2>
    <h2>Training Roll <input type="number" min="1" value="1" name="attr_intensity"><button class="stress-button" name="roll_training" type="roll" value="/em puts their body on the line in training, attempt [[@{intensity}d10!10+@{agility_modifier}+@{tenacity_modifier}+@{insight_modifier}+@{personality_modifier}]]>[[?{Condition Range? |Very Easy, 10*@{intensity}+floor(@{power_level}/5)*5|Easy, 20*@{intensity}+floor(@{power_level}/5)*5|Medium, 30*@{intensity}+floor(@{power_level}/5)*5|Hard, 40*@{intensity}+floor(@{power_level}/5)*5|Very Hard, 50*@{intensity}+floor(@{power_level}/5)*5|Nearly Impossible, 60*@{intensity}+floor(@{power_level}/5)*5}]] gaining [[@{power_level}*@{intensity}]] xp"></button></h2>
    <div class="transformations-page">
        <div class="transformations-top">
            <div style="grid-area: tn; border-right: 1px solid darkgray; border-bottom: 1px solid darkgray;"><h3>Name:</h3></div>
            <!--<div style="grid-area: tty; border-right: 1px solid silver;"><h3 style="color: silver;">Type:</h3></div>-->
            <div style="grid-area: ta; border-right: 1px solid darkgray; border-bottom: 1px solid darkgray;"><h3>Agi:</h3></div>
            <div style="grid-area: ti; border-right: 1px solid darkgray; border-bottom: 1px solid darkgray;"><h3>Ins:</h3></div>
            <div style="grid-area: tpe; border-right: 1px solid darkgray; border-bottom: 1px solid darkgray;"><h3>Per:</h3></div>
            <div style="grid-area: tsc; border-right: 1px solid darkgray; border-bottom: 1px solid darkgray;"><h3>Sch:</h3></div>
            <div style="grid-area: tsp; border-right: 1px solid darkgray; border-bottom: 1px solid darkgray;"><h3>Spi:</h3></div>
            <div style="grid-area: tst; border-right: 1px solid darkgray; border-bottom: 1px solid darkgray;"><h3>For:</h3></div>
            <div style="grid-area: tte;"><h3>Ten:</h3></div>
        </div>

        <div class="transformations-bot">
            <fieldset class="repeating_transformationstable">
                <div class="transformations-table" style="border-top: none;">
                    <div class="tname"><input type="text" name="attr_transformation_name" style="width: 80px;"><input type="checkbox" name="attr_transformation_on" value="1"></div>
                    <div class="tagi"><input type="number" name="attr_transformation_agi" value="0"></div>
                    <div class="tins"><input type="number" name="attr_transformation_ins" value="0"></div>
                    <div class="tper"><input type="number" name="attr_transformation_per" value="0"></div>
                    <div class="tsch"><input type="number" name="attr_transformation_sch" value="0"></div>
                    <div class="tspi"><input type="number" name="attr_transformation_spi" value="0"></div>
                    <div class="tfor"><input type="number" name="attr_transformation_for" value="0"></div>
                    <div class="tten"><input type="number" name="attr_transformation_ten" value="0"></div>
                </div>
            </fieldset>
        </div>
    </div>
</div>

<script type="text/worker">
    const buttonlist = ["attributes","attacks","abilities","transformations"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });

    /*
    on("change:transformation_on", function(){
        getAttrs(["TRANSFORMATION_ON", "repeating_transformationstable_TRANSFORMATION_AGI", "repeating_transformationstable_TRANSFORMATION_INS", "repeating_transformationstable_TRANSFORMATION_PER", "repeating_transformationstable_TRANSFORMATION_POT", "repeating_transformationstable_TRANSFORMATION_SCH", "repeating_transformationstable_TRANSFORMATION_SPI", "repeating_transformationstable_TRANSFORMATION_FOR", "repeating_transformationstable_TRANSFORMATION_TEN", "AGILITY", "INSIGHT", "PERSONALITY", "SCHOLARSHIP", "SPIRIT", "force", "TENACITY"], function(values){
            var on = values.TRANSFORMATION_ON;
            console.log("checkbox " + on);
            
            var agi = values.repeating_transformationstable_TRANSFORMATION_AGI;
            var hagi = values.AGILITY;
            console.log("agi " + agi);
            console.log("hagi " + hagi);
            
            var ins = values.repeating_transformationstable_TRANSFORMATION_INS;
            var hins = values.INSIGHT;
            console.log("ins " +  ins);
            console.log("hins " + hins);

            var per = values.repeating_transformationstable_TRANSFORMATION_PER;
            var hper = values.PERSONALITY;
            console.log("per " + per);
            console.log("hper " +hper);

            var sch = values.repeating_transformationstable_TRANSFORMATION_SCH;
            var hsch = values.SCHOLARSHIP;
            console.log("sch " + sch);
            console.log("hsch" + hsch);
            
            var spi = values.repeating_transformationstable_TRANSFORMATION_SPI;
            var hspi = values.SPIRIT;
            console.log("spi " + spi);
            console.log("hspi " + hspi);
            
            var str = values.repeating_transformationstable_TRANSFORMATION_FOR;
            var hstr = values.force;
            console.log("str " + str);
            console.log("hstr" + hstr);
            
            var ten = values.repeating_transformationstable_TRANSFORMATION_TEN;
            var hten = values.TENACITY;
            console.log("ten " + ten);
            console.log("hten " + hten);
            

            if(on==0){
                hagi = hagi-agi;
                setAttrs({
                    "agility": hagi
                });

                hins = hins-ins;
                setAttrs({
                    "insight": hins
                });
                
                hper = hper-per;
                setAttrs({
                    "personality":hper
                });

                hsch = hsch-sch;
                setAttrs({
                    "scholarship":hsch
                });

                hspi = hspi-spi;
                setAttrs({
                    "spirit":hspi
                });

                hstr = hstr-str;
                setAttrs({
                    "force":hstr
                });

                hten = hten-ten;
                setAttrs({
                    "tenacity":hten
                });
            }else if(on == 1){
                hagi = hagi+agi;
                setAttrs({
                    "agility": hagi
                });

                hins = hins+ins;
                setAttrs({
                    "insight": hins
                });
                
                hper = hper+per;
                setAttrs({
                    "personality":hper
                });

                hsch = hsch+sch;
                setAttrs({
                    "scholarship":hsch
                });

                hspi = hspi+spi;
                setAttrs({
                    "spirit":hspi
                });

                hstr = hstr+str;
                setAttrs({
                    "force":hstr
                });

                hten = hten + ten;
                setAttrs({
                    "tenacity":hten
                });
            }
        });
    });
    */
</script>
